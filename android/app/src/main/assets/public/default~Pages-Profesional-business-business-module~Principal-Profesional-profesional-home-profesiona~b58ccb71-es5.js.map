{"version":3,"sources":["webpack:///src/app/Pages/Profesional/business/business.page.html","webpack:///src/app/Pages/Profesional/business/business.page.scss","webpack:///src/app/Pages/Profesional/business/business.page.ts"],"names":["BusinessPage","renderer","feed","currentPlaying","stickyVideo","stickyPlaying","isElementInViewport","pause","videoPlayers","forEach","player","console","log","nativeElement","inView","src","muted","play","elem","requestFullscreen","webkitEnterFullscreen","enterFullscreen","el","rect","getBoundingClientRect","top","left","bottom","window","innerHeight","document","documentElement","clientHeight","right","innerWidth","clientWidth","removeChild","stickyPlayer","cloneNode","appendChild","playPosition","currentTime","selector","template"],"mappings":"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","file":"default~Pages-Profesional-business-business-module~Principal-Profesional-profesional-home-profesiona~b58ccb71-es5.js","sourcesContent":["export default \"\\r\\n\\r\\n<ion-content [scrollEvents]= \\\"true\\\" (ionScroll)=\\\"didScroll($event)\\\">\\r\\n  <br>\\r\\n<ion-toolbar>\\r\\n\\r\\n    <ion-button ion-button slot=\\\"end\\\" shape=\\\"round\\\" color=\\\"dark\\\" routerLink=\\\"/createcamp\\\">\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-button>\\r\\n\\r\\n  <div style=\\\"background-color: black; float: left; width: 170px; height: 35px; border-bottom-right-radius: 35px; border-top-right-radius: 35px; text-align:center; padding-top: 8px;\\\">\\r\\n    <ion-text color=\\\"light\\\" style=\\\"font-size: 18px;\\\">Crowdfunding</ion-text>\\r\\n  </div>\\r\\n</ion-toolbar>\\r\\n  <ion-list>\\r\\n    <ion-card *ngFor=\\\"let item of feed\\\" color=\\\"primary\\\" style=\\\"margin-left: -10px; width:105%\\\" routerLink=\\\"/description\\\">\\r\\n\\r\\n      <ion-card-content>\\r\\n        <div>\\r\\n          <div style=\\\"float: left;\\\">\\r\\n            <h2><b> {{ item.title }}</b></h2>\\r\\n          </div>\\r\\n          <div style=\\\"float: right; margin-top: -7px\\\">\\r\\n              <p>user: {{ item.user }}</p>\\r\\n              <p> 20/10/2020</p>\\r\\n          </div>\\r\\n        </div>\\r\\n        <br><br>\\r\\n        <div>\\r\\n          <div *ngIf=\\\"item.src\\\">\\r\\n            <video #player playsinline controls preload=\\\"auto\\\">\\r\\n              <source [src]=\\\"item.src\\\" type=\\\"video/mp4\\\"/>\\r\\n            </video>\\r\\n            <div style=\\\"float: right; margin-right: 10px; width:50%;\\\">\\r\\n              <ion-text style=\\\"text-align:justify;\\\">\\r\\n                <p>\\r\\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\\r\\n                </p>\\r\\n              </ion-text>\\r\\n              <br>\\r\\n              <p>Meta: $35000.00</p>\\r\\n              <ion-progress-bar value=\\\"0.7\\\" style=\\\"width: 96%; height: 25px; border-radius: 35px; --progress-background: #8dc63f; --background: #555555; margin-bottom: 30px;\\\"></ion-progress-bar>\\r\\n            </div>\\r\\n          </div>\\r\\n          \\r\\n        </div>\\r\\n      </ion-card-content>\\r\\n    </ion-card>\\r\\n    <br><br>\\r\\n  </ion-list>\\r\\n  <div class=\\\"sticky-video\\\" #stickyplayer [hidden]=\\\"!stickyVideo\\\">\\r\\n    <div class=\\\"sticky-controls\\\" *ngIf=\\\"stickyVideo\\\">\\r\\n      <ion-row class=\\\"ion-no-padding\\\">\\r\\n        <ion-col size=\\\"4\\\">\\r\\n          <ion-button size=\\\"small\\\" (click)=\\\"closeSticky()\\\" color=\\\"light\\\" fill=\\\"clear\\\">\\r\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"close-circle-outline\\\"></ion-icon>\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"4\\\">\\r\\n          <ion-button size=\\\"small\\\" (click)=\\\"playOrPauseSticky()\\\" color=\\\"light\\\" fill=\\\"clear\\\">\\r\\n            <ion-icon slot=\\\"icon-only\\\" [name]=\\\"stickyPlaying ? 'pause' : 'play'\\\"></ion-icon>\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"4\\\">\\r\\n          <ion-button size=\\\"small\\\" (click)=\\\"openFullscreen(stickyVideo)\\\" color=\\\"light\\\" fill=\\\"clear\\\">\\r\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"easel\\\"></ion-icon>\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n\\r\\n      </ion-row>\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";","export default \"video {\\n  width: 40%;\\n  height: 100%;\\n  display: inline-block;\\n  vertical-align: middle;\\n}\\n\\n.card-content {\\n  padding-left: 0px !important;\\n  padding-right: 0px !important;\\n}\\n\\n.bar {\\n  z-index: 2;\\n  width: 100%;\\n  text-align: center;\\n  transform: translate(0%, -100%);\\n}\\n\\n.sticky-video {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  bottom: 40px;\\n  left: 10%;\\n  width: 250px;\\n  height: 150px;\\n}\\n\\n.sticky-video video {\\n  border-radius: 6px;\\n  overflow: hidden;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.7);\\n}\\n\\n.sticky-controls {\\n  position: absolute;\\n  top: 0px;\\n  z-index: 2;\\n  widows: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUGFnZXMvUHJvZmVzaW9uYWwvYnVzaW5lc3MvQzpcXFVzZXJzXFxlcmVrX1xcRG9jdW1lbnRzXFxHaXRIdWJcXEdvaUNvbm5lY3RQcm9qXFxHb2lDb25uZWN0L3NyY1xcYXBwXFxQYWdlc1xcUHJvZmVzaW9uYWxcXGJ1c2luZXNzXFxidXNpbmVzcy5wYWdlLnNjc3MiLCJzcmMvYXBwL1BhZ2VzL1Byb2Zlc2lvbmFsL2J1c2luZXNzL2J1c2luZXNzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFVBQUE7RUFDQSxZQUFBO0VBQ0EscUJBQUE7RUFDQSxzQkFBQTtBQ0NKOztBREVBO0VBQ0ksNEJBQUE7RUFDQSw2QkFBQTtBQ0NKOztBREdBO0VBQ0ksVUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLCtCQUFBO0FDQUo7O0FER0E7RUFDSSx3QkFBQTtFQUFBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLFNBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtBQ0FKOztBREVJO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtFQUNBLHdDQUFBO0FDQVI7O0FESUE7RUFDSSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvUGFnZXMvUHJvZmVzaW9uYWwvYnVzaW5lc3MvYnVzaW5lc3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidmlkZW8ge1xyXG4gICAgd2lkdGg6IDQwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn1cclxuXHJcbi5jYXJkLWNvbnRlbnQge1xyXG4gICAgcGFkZGluZy1sZWZ0OiAwcHggIWltcG9ydGFudDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDBweCAhaW1wb3J0YW50O1xyXG5cclxufVxyXG5cclxuLmJhciB7XHJcbiAgICB6LWluZGV4OiAyO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwJSwgLTEwMCUpO1xyXG59XHJcblxyXG4uc3RpY2t5LXZpZGVvIHtcclxuICAgIHBvc2l0aW9uOiBzdGlja3k7XHJcbiAgICBib3R0b206IDQwcHg7XHJcbiAgICBsZWZ0OiAxMCU7XHJcbiAgICB3aWR0aDogMjUwcHg7XHJcbiAgICBoZWlnaHQ6IDE1MHB4O1xyXG5cclxuICAgIHZpZGVvIHtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAuNyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5zdGlja3ktY29udHJvbHMge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwcHg7XHJcbiAgICB6LWluZGV4OiAyO1xyXG4gICAgd2lkb3dzOiAxMDAlO1xyXG59XHJcbiIsInZpZGVvIHtcbiAgd2lkdGg6IDQwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG5cbi5jYXJkLWNvbnRlbnQge1xuICBwYWRkaW5nLWxlZnQ6IDBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nLXJpZ2h0OiAwcHggIWltcG9ydGFudDtcbn1cblxuLmJhciB7XG4gIHotaW5kZXg6IDI7XG4gIHdpZHRoOiAxMDAlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAlLCAtMTAwJSk7XG59XG5cbi5zdGlja3ktdmlkZW8ge1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICBib3R0b206IDQwcHg7XG4gIGxlZnQ6IDEwJTtcbiAgd2lkdGg6IDI1MHB4O1xuICBoZWlnaHQ6IDE1MHB4O1xufVxuLnN0aWNreS12aWRlbyB2aWRlbyB7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC43KTtcbn1cblxuLnN0aWNreS1jb250cm9scyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwcHg7XG4gIHotaW5kZXg6IDI7XG4gIHdpZG93czogMTAwJTtcbn0iXX0= */\";","import { Component, OnInit, ViewChildren, QueryList, ViewChild, ElementRef, Renderer2 } from '@angular/core';\r\nimport data from './../../../../assets/feed.json';\r\n\r\n@Component({\r\n  selector: 'app-business',\r\n  templateUrl: './business.page.html',\r\n  styleUrls: ['./business.page.scss'],\r\n})\r\nexport class BusinessPage implements OnInit {\r\n  feed = data;\r\n  @ViewChildren('player')videoPlayers: QueryList<any>;\r\n  currentPlaying = null;\r\n\r\n  stickyVideo: HTMLVideoElement = null;\r\n  stickyPlaying = false;\r\n  @ViewChild('stickyplayer', {static: false }) stickyPlayer: ElementRef;\r\n\r\n  constructor(private renderer: Renderer2) { }\r\n\r\n  didScroll() {\r\n    if (this.currentPlaying && this.isElementInViewport(this.currentPlaying)) {\r\n      return;\r\n    }\r\n    else if (this.currentPlaying && !this.isElementInViewport(this.currentPlaying)) {\r\n      // Item is out of view, pause it\r\n      this.currentPlaying.pause();\r\n      this.currentPlaying = null;\r\n    }\r\n    this.videoPlayers.forEach(player => {\r\n      console.log('player: ', player);\r\n\r\n      if (this.currentPlaying) {\r\n        return;\r\n      }\r\n\r\n      const nativeElement = player.nativeElement;\r\n      const inView = this.isElementInViewport(nativeElement);\r\n\r\n      if (this.stickyVideo && this.stickyVideo.src === nativeElement.src) {\r\n        return;\r\n      }\r\n\r\n      if (inView) {\r\n        this.currentPlaying = nativeElement;\r\n        this.currentPlaying.muted = true;\r\n        this.currentPlaying.play();\r\n      }\r\n    });\r\n  }\r\n\r\n  openFullscreen(elem) {\r\n    if (elem.requestFullscreen) {\r\n      elem.requestFullscreen();\r\n    } else if (elem.webkitEnterFullscreen) {\r\n      elem.webkitEnterFullscreen();\r\n      elem.enterFullscreen();\r\n    }\r\n  }\r\n\r\n  isElementInViewport(el) {\r\n    const rect = el.getBoundingClientRect();\r\n    return (\r\n      rect.top >= 0 &&\r\n      rect.left >= 0 &&\r\n      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth)\r\n    );\r\n  }\r\n\r\n  playOnSide(elem) {\r\n    if (this.stickyVideo) {\r\n      this.renderer.removeChild(this.stickyPlayer.nativeElement, this.stickyVideo);\r\n    }\r\n\r\n    this.stickyVideo = elem.cloneNode(true);\r\n\r\n    this.renderer.appendChild(this.stickyPlayer.nativeElement, this.stickyVideo);\r\n\r\n    if (this.currentPlaying) {\r\n      const playPosition = this.currentPlaying.currentTime;\r\n      this.currentPlaying.pause();\r\n      this.currentPlaying = null;\r\n      this.stickyVideo.currentTime = playPosition;\r\n    }\r\n\r\n    this.stickyVideo.muted = false;\r\n    this.stickyVideo.play();\r\n    this.stickyPlaying = true;\r\n  }\r\n\r\n  closeSticky() {\r\n    if (this.stickyVideo) {\r\n      this.renderer.removeChild(this.stickyPlayer.nativeElement, this.stickyVideo);\r\n      this.stickyVideo = null;\r\n      this.stickyPlaying = false;\r\n    }\r\n  }\r\n\r\n  playOrPauseSticky() {\r\n    if (this.stickyPlaying) {\r\n      this.stickyVideo.pause();\r\n      this.stickyPlaying = false;\r\n    }\r\n    else {\r\n      this.stickyVideo.play();\r\n      this.stickyPlaying = true;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n"]}